@using SchoolBones
@using SchoolBones.DataStructs
@using SchoolBones.Enums
@using SchoolBones.Common

@model DoubleInt
@{
    DoubleInt oInputs = null;

    oInputs = Model;

    Modules eModules = (Modules)oInputs.Id;
    SubModule eSubModule = (SubModule)oInputs.Value;
}

<div class="row">
    <div class="row">
        @Html.Partial("_HeaderNavigation", oInputs)
    </div>

    <div class="row">
        @{
            if (eModules == Modules.Admin)
            {
                if (eSubModule == SubModule.AddTeacher)
                {
                    @*<div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Enter Registraton No</label>
                        <input id="txtRegNo" type="text" class="form-control"/>
                    </div>*@
                }
                else if (eSubModule == SubModule.ActiveTeachers)
                {

                }
                else if (eSubModule == SubModule.InActiveTeachers)
                {

                }
                else if (eSubModule == SubModule.IDCardOfTeachers)
                {

                }
                else if (eSubModule == SubModule.IDCardOfStudents)
                {

                }
                else if (eSubModule == SubModule.TakeTeacherAttendanceInputs || eSubModule == SubModule.LoadTeacherAttendanceInputs)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Month</label>
                        <select id="ddlMonth" class="form-select" onchange="COMMONINPUT.UpdateCalendar(this)">
                            <option value="-1">--Select Month--</option>
                            <option value="1">Janaury</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9" selected>September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Year</label>
                        <select id="ddlYear" class="form-select">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option selected value="2023">2023</option>
                        </select>
                    </div>
                }
                else if (eSubModule == SubModule.Registration)
                {

                }
                else if (eSubModule == SubModule.AllTeachers)
                {

                }
            }
            else if (eModules == Modules.Teacher)
            {
                if (eSubModule == SubModule.AddStudent)
                {

                }
                else if (eSubModule == SubModule.AllStudent)
                {

                }
                else if (eSubModule == SubModule.ActiveStudent)
                {

                }
                else if (eSubModule == SubModule.InActiveStudent)
                {

                }
                else if (eSubModule == SubModule.TakeAttendanceInputs || eSubModule == SubModule.LoadAttendanceInputs)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Class</label>
                        <select id="ddlClass" class="form-select">
                            @*<option value='-1'>--Select Class--</option>*@
                            <option value='1'>1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option selected value='4'>4</option>
                            <option value='5'>5</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Month</label>
                        <select id="ddlMonth" class="form-select" onchange="COMMONINPUT.UpdateCalendar(this)">
                            <option value="-1">--Select Month--</option>
                            <option value="1">Janaury</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9" selected>September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Year</label>
                        <select id="ddlYear" class="form-select">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option selected value="2023">2023</option>
                        </select>
                    </div>
                }
                else if (eSubModule == SubModule.CreateMarksheet)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Class</label>
                        <select id="ddlClass" class="form-select">
                            @*<option value='-1'>--Select Class--</option>*@
                            <option value='1'>1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option selected value='4'>4</option>
                            <option value='5'>5</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Year</label>
                        <select id="ddlYear" class="form-select">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option selected value="2023">2023</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Exam Type</label>
                        <select id="ddlExamType" class="form-select">
                            <option selected value="1">Test</option>
                            <option value="2">Half Yearly</option>
                            <option value="3">Annual</option>
                        </select>
                    </div>
                }
                else if (eSubModule == SubModule.CreateDMarksheet)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Class</label>
                        <select id="ddlClass" class="form-select">
                            @*<option value='-1'>--Select Class--</option>*@
                            <option value='1'>1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option selected value='4'>4</option>
                            <option value='5'>5</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Year</label>
                        <select id="ddlYear" class="form-select">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option selected value="2023">2023</option>
                        </select>
                    </div>
                }
                else if (eSubModule == SubModule.AddSubjects)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Class</label>
                        <select id="ddlClass" class="form-select">
                            @*<option value='-1'>--Select Class--</option>*@
                            <option value='1'>1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option selected value='4'>4</option>
                            <option value='5'>5</option>
                        </select>
                    </div>
                }
                else if (eSubModule == SubModule.DefinedMaximumMarks)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Class</label>
                        <select id="ddlClass" class="form-select">
                            @*<option value='-1'>--Select Class--</option>*@
                            <option value='1'>1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option selected value='4'>4</option>
                            <option value='5'>5</option>
                        </select>
                    </div>
                }
                else if (eSubModule == SubModule.DisplayMarksheet)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Select Year Dummy</label>
                        <select id="ddlClass" class="form-select">
                            <option value='1'>2020</option>
                            <option value='2'>2021</option>
                            <option value='3'>2022</option>
                            <option selected value='4'>2023</option>
                        </select>
                    </div>
                }
                else if (eSubModule == SubModule.Registration)
                {

                }
            }
            else if (eModules == Modules.Student)
            {

            }
            else if (eModules == Modules.Accounts)
            {
                if (eSubModule == SubModule.FeeSubmission)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Enrollment No</label>
                        <input id="txtEno" type="text" class="form-control" value="15" />
                    </div>
                    <div class="mb-3" hidden>
                        <label for="exampleFormControlInput1" class="form-label">Roll No</label>
                        <input id="txtRno" type="text" class="form-control" value="0" />
                    </div>
                }
                else if (eSubModule == SubModule.ClasswiseStudents)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Class</label>
                        <select id="ddlClass" class="form-select">
                            <option value='1'>1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Year</label>
                        <select id="ddlYear" class="form-select">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option value="2023" selected>2023</option>
                        </select>
                    </div>

                    <div id="dvLoadStudents">
                        @*@Html.Partial("_FeesStructure", null)*@
                    </div>
                }
                else if (eSubModule == SubModule.FeesStructure)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Year</label>
                        <select id="ddlYear" class="form-select" onchange="ACCOUNTSERVER.LoadFeesStructure(this)">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option value="2023">2023</option>
                        </select>
                    </div>
                    <div id="dvFeesStructure">
                        @*@Html.Partial("_FeesStructure", null)*@
                    </div>
                }
                else if (eSubModule == SubModule.DefineMontlySalary)
                {
                    <div class="mb-3">
                        <select id="ddlYear" class="form-select" onchange="ACCOUNTSERVER.DefineMontlySalary(this)">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option value="2023">2023</option>
                        </select>
                    </div>
                    <div id="dvDefineSalary">
                    </div>
                }
                else if (eSubModule == SubModule.LoadSalary)
                {
                    <div class="mb-3">
                        <select id="ddlMonth" class="form-select" onchange="COMMONINPUT.UpdateCalendar(this)">
                            <option value="-1">--Select Month--</option>
                            <option value="1">Janaury</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9" selected>September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <select id="ddlYear" class="form-select" onchange="ACCOUNTSERVER.DefineMontlySalary(this)">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option value="2023" selected>2023</option>
                        </select>
                    </div>

                    <div id="dvSalaryDetails">
                    </div>
                }
                else if (eSubModule == SubModule.LoadFeeCollection)
                {
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Class</label>
                        <select id="ddlClass" class="form-select">
                            <option value='1'>1</option>
                            <option value='2'>2</option>
                            <option value='3'>3</option>
                            <option value='4'>4</option>
                            <option value='5'>5</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <select id="ddlMonth" class="form-select" onchange="COMMONINPUT.UpdateCalendar(this)">
                            <option value="-1">--Select Month--</option>
                            <option value="1">Janaury</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9" selected>September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <select id="ddlYear" class="form-select" onchange="ACCOUNTSERVER.DefineMontlySalary(this)">
                            <option value="-1">--Year--</option>
                            <option value="2020">2020</option>
                            <option value="2021">2021</option>
                            <option value="2022">2022</option>
                            <option value="2023" selected>2023</option>
                        </select>
                    </div>
                    <div id="dvLoadFeeCollection">
                    </div>
                }
            }

            #region FooterButtons
            <div class="mb-3">
                @{
                    if (eModules == Modules.Admin)
                    {
                        if (eSubModule == SubModule.AddTeacher)
                        {
                        }
                        else if (eSubModule == SubModule.ActiveTeachers)
                        {

                        }
                        else if (eSubModule == SubModule.InActiveTeachers)
                        {

                        }
                        else if (eSubModule == SubModule.IDCardOfTeachers)
                        {

                        }
                        else if (eSubModule == SubModule.IDCardOfStudents)
                        {

                        }
                        else if (eSubModule == SubModule.TakeTeacherAttendanceInputs)
                        {
                            <button class="btn btn-outline-primary" type="button" onclick="COMMONINPUT.UpdateCalendar()">Load Calendar</button>

                            <div id="dvCalendar" style="display:none;">
                                <label for="exampleFormControlInput1" class="form-label">Calendar</label>
                                <input type="date" class="form-control mb-3" id="dtAttendaneDate" placeholder="yyyy-mm-dd" @*value="" min="2023-09-08" max="2030-12-31"*@ />
                                <button class="btn btn-outline-primary" type="button" onclick="COMMONRIBBON.TakeTeacherAttandance()">Take Teacher Attandance</button>
                            </div>
                        }
                        else if (eSubModule == SubModule.LoadTeacherAttendanceInputs)
                        {
                            <button class="btn btn-outline-primary" type="button" onclick="COMMONMETHODS.LoadTeacherAttendance()">Load Teacher Attandence</button>
                        }
                        else if (eSubModule == SubModule.Registration)
                        {

                        }
                        else if (eSubModule == SubModule.AllTeachers)
                        {

                        }
                    }
                    else if (eModules == Modules.Teacher)
                    {
                        if (eSubModule == SubModule.AddStudent)
                        {
                        }
                        else if (eSubModule == SubModule.AllStudent)
                        {

                        }
                        else if (eSubModule == SubModule.ActiveStudent)
                        {

                        }
                        else if (eSubModule == SubModule.InActiveStudent)
                        {

                        }
                        else if (eSubModule == SubModule.TakeAttendanceInputs)
                        {
                            <button class="btn btn-outline-primary" type="button" onclick="COMMONINPUT.UpdateCalendar()">Load Calendar</button>

                            <div id="dvCalendar" style="display:none;">
                                <label for="exampleFormControlInput1" class="form-label">Calendar</label>
                                <input type="date" class="form-control mb-3" id="dtAttendaneDate" placeholder="yyyy-mm-dd" @*value="" min="2023-09-08" max="2030-12-31"*@ />
                                <button class="btn btn-outline-primary" type="button" onclick="COMMONRIBBON.TakeStudentAttandance()">Open Attendance Register</button>
                            </div>
                        }
                        else if (eSubModule == SubModule.LoadAttendanceInputs)
                        {
                            <button class="btn btn-outline-primary" type="button" onclick="COMMONMETHODS.LoadAttendance()">Load Attendance</button>
                        }
                        else if (eSubModule == SubModule.CreateMarksheet)
                        {
                            <button class="btn btn-outline-primary" type="button" onclick="COMMONMETHODS.LoadStudentsForMarks()">Create Result</button>
                        }
                        else if (eSubModule == SubModule.CreateDMarksheet)
                        {
                            <button class="btn btn-outline-primary" type="button" onclick="COMMONMETHODS.LoadPreparedResults()">Load Result</button>
                        }
                        else if (eSubModule == SubModule.AddSubjects)
                        {
                            <button class="btn btn-outline-primary" type="button" onclick="COMMONMETHODS.LoadSubjects()">Load Subjects</button>
                        }
                        else if (eSubModule == SubModule.DefinedMaximumMarks)
                        {
                            <button class="btn btn-outline-primary" type="button" onclick="COMMONMETHODS.LoadDefinedMaximumMarks()">Defined Maximum Marks</button>
                        }
                        else if (eSubModule == SubModule.DisplayMarksheet)
                        {
                            <input class="btn btn-primary" type="button" value="Save" onclick="COMMONMETHODS.ShowMarksheet()">
                        }
                        else if (eSubModule == SubModule.Registration)
                        {

                        }
                    }
                    else if (eModules == Modules.Student)
                    {

                    }
                    else if (eModules == Modules.Accounts)
                    {
                       
                    }
                }
            </div>
            #endregion
        }
    </div>
</div>

<script>


    @*function LoadFeeDetails() {
        debugger
        var txtEnrollmentNo = parseInt(document.getElementById("txtEno").value);
        var txtRollNo = parseInt(document.getElementById("txtRno").value);

        var url = "@Url.Action("LoadFeeDetails", "Accounts")";
        $.ajax({
            url: url,
            cache: false,
            type: "POST",
            data: {
                iEnrollmentno: txtEnrollmentNo,
                iRollno: txtRollNo
            },
            datatype: "html",
            success: function (data) {
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Accounts);
            }
        })
    }*@

    @*function LoadClasswiseStudents() {
        var ddlClass = parseInt(document.getElementById("ddlClass").value)
        var ddlYear = parseInt(document.getElementById("ddlYear").value)

        var url = "@Url.Action("LoadClasswiseStudents", "Accounts")";
        $.ajax({
            url: url,
            cache: false,
            type: "POST",
            dataType: "html",
            data: {
                iClass: ddlClass,
                iYear: ddlYear
            },
            success: function (data) {
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Accounts);
            }
        });
    }*@

    @*function LoadSubjects() {
        debugger;
        var url = "@Url.Action("LoadSubjects", "Teacher")";
        $.ajax({
            url: url,
            cache: false,
            type: "POST",
            dataType: "html",
            data: {
                iClass: parseInt(document.getElementById("ddlClass").value)
            },
            success: function (data) {
                debugger
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Teacher);
            }
        });
    }*@

    @*function LoadStudentsForMarks() {
        debugger
        var iClass = document.getElementById("ddlClass").value;
        var iYear = document.getElementById("ddlYear").value;
        var iExamType = document.getElementById("ddlExamType").value;

        var url = "@Url.Action("LoadStudentsForMarks", "Teacher")"
        $.ajax({
            url: url,
            cache: false,
            type: "POST",
            data: {
                iClass: iClass,
                iYear: iYear,
                iExamType: iExamType
            },
            datatype: "json",
            success: function (data) {
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Teacher);
            }
        })
    }*@
    @*function LoadPreparedResults() {
        debugger;
        var iClass = document.getElementById("ddlClass").value;
        var iYear = document.getElementById("ddlYear").value;

        var url = "@Url.Action("CreatedMarksheet", "Teacher")"
        $.ajax({
            url: url,
            cache: false,
            type: "POST",
            data: {
                iClass: iClass,
                iYear: iYear
            },
            datatype: "json",
            success: function (data) {
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Teacher);
            }
        })
    }*@

    //function successLoadFeeDetails(bSuccess, data, eModule) {
    //    debugger
    //    if (bSuccess) {
    //        if (eModule == COMMONENUM.eModule.Admin) {
    //            $("#dvAdmin").html(data);
    //        } else if (eModule == COMMONENUM.eModule.Teacher) {
    //            $("#dvTeacher").html(data);
    //        } else if (eModule == COMMONENUM.eModule.Accounts) {
    //            $("#dvAccounts").html(data);
    //        }
    //    }
    //}

    //Teacher Attendance
    @*function TakeTeacherAttandance() {
        debugger;
        var sPopupId = "popupTakeTeacherAttendance";
        var oPopupData = {};
        oPopupData.Id = COMMONENUM.ePopupName.TakeTeacherAttendance;
        oPopupData.Value = {};

        if (document.getElementById("dtAttendaneDate").value == '') {
            COMMONMETHODS.ShowToastAsAlert("Please select date for attendance.")
            return;
        }

        var url = "@Url.Action("CallCommonPopup", "Shared")";
        $.ajax({
            url: url,
            cache: false,
            type: "POST",
            dataType: "html",
            data: {
                oPopupData: oPopupData
            },
            success: function (data) {
                COMMONRIBBON.successOpenPopup(true, data, sPopupId);
            }
        });
    }*@

    //Student Attendance
    @*function TakeStudentAttandance() {
        debugger;
        var sPopupId = '';
        var iClass = 0;

        sPopupId = "popupTakeStudentAttendance";
        iClass = document.getElementById("ddlClass").value;

        var oInputs = {};
        oInputs.Class = iClass;

        var oPopupData = {};
        oPopupData.Id = COMMONENUM.ePopupName.TakeStudentAttendance;
        oPopupData.Value = {};


        //var iYear = document.getElementById("ddlYear").value;
        if (document.getElementById("dtAttendaneDate").value == '') {
            COMMONMETHODS.ShowToastAsAlert("Please select date for attendance.")
            return;
        }

        var url = "@Url.Action("CallCommonPopup", "Shared")";
        $.ajax({
            url: url,
            cache: false,
            type: "POST",
            dataType: "html",
            data: {
                //iClass: iClass,
                //iPopupName: COMMONENUM.ePopupName.TakeStudentAttendance,
                oPopupData: oPopupData,
                oInputs: oInputs
            },
            success: function (data) {
                COMMONRIBBON.successOpenPopup(true, data, sPopupId);
            }
        });
    }*@

   
   
    @*function LoadAttendance() {
        debugger
        var ddlClass = parseInt(document.getElementById("ddlClass").value)
        var ddlMonth = parseInt(document.getElementById("ddlMonth").value)
        var ddlYear = parseInt(document.getElementById("ddlYear").value)

        var url = "@Url.Action("LoadAttendance", "Teacher")";
        $.ajax({
            url: url,
            cache: false,
            type: "POST",
            dataType: "html",
            data: {
                iClass: ddlClass,
                iMonth: ddlMonth,
                iYear: ddlYear
            },
            success: function (data) {
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Teacher);
            }
        });
    }*@
    @*function LoadTeacherAttendance() {
        debugger
        var ddlMonth = parseInt(document.getElementById("ddlMonth").value)
        var ddlYear = parseInt(document.getElementById("ddlYear").value)

        var url = "@Url.Action("LoadTeacherAttendance", "Admin")";
        $.ajax({
            url: url,
            cache: false,
            type: "Get",
            dataType: "html",
            data: {
                iMonth: ddlMonth,
                iYear: ddlYear
            },
            success: function (data) {
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Admin);
            }
        });
    }*@
    @*function LoadDefinedMaximumMarks() {
        debugger;
        var ddlClass = parseInt(document.getElementById("ddlClass").value)
        var url = "@Url.Action("DefineMaximumMarks", "Teacher")";
        $.ajax({
            url: url,
            cache: false,
            type: "Get",
            dataType: "html",
            data: {
                iClass: ddlClass,
            },
            success: function (data) {
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Teacher);
            }
        });
    }*@

    @*function ShowMarksheet() {
        debugger
        var iStdId = -1;
        //document.getElementById("dvDisplayMarksheet").style.display = "";
        var url = "@Url.Action("LoadMarksheetInputs", "Teacher")";
        $.ajax({
            url: url,
            cache: false,
            type: "Get",
            dataType: "html",
            data: {
            },
            success: function (data) {
                debugger
                //document.getElementById("dvDisplayMarksheet").style.display = "block";
                successLoadFeeDetails(true, data, COMMONENUM.eModule.Teacher);
            }
        });
    }*@

</script>